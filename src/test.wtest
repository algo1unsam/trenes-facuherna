import trenes.*

describe "testeo de trenes" {

	var vagon1 = new Vagon(tipoDeVagones = carga)
	var vagon2 = new Vagon(tipoDeVagones = pasajeros)
	var vagon3 = new Vagon(tipoDeVagones = pasajeros)
	var formacion1 = new Formacion()
	var locomotora1 = new Locomotora(velocidadMaxima = 20)
	var locomotora2 = new Locomotora(velocidadMaxima = 30)

	test "hay 2 vagones livianos" {
		carga.cargaMaxima(2400)
		pasajeros.largoEnMetros(2)
		pasajeros.anchoUtilEnMetros(2)
		formacion1.agregarVagones(vagon1)
		formacion1.agregarVagones(vagon2)
		formacion1.agregarVagones(vagon3)
		assert.equals(2, formacion1.vagonLiviano())
	}

	test "la velocidad maxima de una formacion es de 20"{
		formacion1.agregarlocomotoras(locomotora1)
		formacion1.agregarlocomotoras(locomotora2)
		assert.equals(20,formacion1.velocidadMaxima())
	}
	
	test "la formacion es eficiente"{
		locomotora1.peso(100)
		locomotora1.pesoMaximoQueArrastra(1000)
		locomotora2.peso(150)
		locomotora2.pesoMaximoQueArrastra(900)
		formacion1.agregarlocomotoras(locomotora1)
		formacion1.agregarlocomotoras(locomotora2)
		assert.that(formacion1.formacionEficiente())
	}
	test "se mueve la formacion"{
		carga.cargaMaxima(100)
		pasajeros.largoEnMetros(2)
		pasajeros.anchoUtilEnMetros(2)
		locomotora1.peso(100)
		locomotora1.pesoMaximoQueArrastra(1000)
		locomotora2.peso(150)
		locomotora2.pesoMaximoQueArrastra(900)
		formacion1.agregarVagones(vagon1)
		formacion1.agregarVagones(vagon2)
		formacion1.agregarlocomotoras(locomotora1)
		formacion1.agregarlocomotoras(locomotora2)
		assert.that(formacion1.podesMoverte())
	}
	test "le falta 530 kilos para poder moverse la locomotora"{
		locomotora1.peso(100)
		locomotora1.pesoMaximoQueArrastra(1000)
		locomotora2.peso(150)
		locomotora2.pesoMaximoQueArrastra(900)
		carga.cargaMaxima(100)
		pasajeros.largoEnMetros(3)
		pasajeros.anchoUtilEnMetros(2)
		formacion1.agregarVagones(vagon1)
		formacion1.agregarVagones(vagon2)
		formacion1.agregarlocomotoras(locomotora1)
		formacion1.agregarlocomotoras(locomotora2)
		assert.equals(530,formacion1.kilosQueFaltaParaMoverse())
		
	}

}

